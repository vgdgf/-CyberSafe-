<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Realistic ID Card Generator</title>
<link href="https://fonts.googleapis.com/css2?family=Garamond&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Garamond', serif;
  background: #ececec;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
}

h1 {
  text-align: center;
  margin-bottom: 5px;
  color: #222;
}

#card-container {
  position: relative;
  width: 540px;
  height: 340px;
  border-radius: 15px;
  background: linear-gradient(to right, #f0f0f5, #d9d9e0);
  border: 2px solid #ccc;
  box-shadow: 0 8px 20px rgba(0,0,0,0.3);
  overflow: hidden;
  padding: 20px;
  margin-bottom: 20px;
}

/* Watermark */
#card-container::before {
  content: "UNIVERSITY";
  position: absolute;
  font-size: 100px;
  color: rgba(0,0,0,0.05);
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(-30deg);
  pointer-events: none;
}

/* Card text */
#card-text {
  position: absolute;
  left: 20px;
  top: 20px;
  font-size: 16px;
  color: #000;
}

#card-text div {
  margin-bottom: 8px;
}

/* Employee photo */
#photo {
  position: absolute;
  right: 20px;
  top: 50px;
  width: 120px;
  height: 160px;
  border-radius: 10px;
  border: 2px solid #555;
  object-fit: cover;
  background: #fff;
}

/* Small ID photo */
#small-photo {
  position: absolute;
  left: 20px;
  top: 120px;
  width: 60px;
  height: 60px;
  border-radius: 5px;
  border: 1px solid #555;
  object-fit: cover;
  background: #fff;
}

/* Signature line */
#signature {
  position: absolute;
  bottom: 30px;
  left: 20px;
  font-style: italic;
  font-size: 18px;
  border-bottom: 1px solid #000;
  width: 200px;
}

/* Expiration */
#expires {
  position: absolute;
  bottom: 30px;
  right: 20px;
  color: red;
  font-weight: bold;
}

/* Form panel */
#control-panel {
  width: 540px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

#control-panel label {
  font-weight: bold;
}

#control-panel input {
  padding: 5px;
  font-size: 14px;
  width: 100%;
}

#control-panel input[type="file"] {
  padding: 3px;
}

#download-btn {
  margin-top: 15px;
  padding: 10px 20px;
  background: #2d89ef;
  color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
</style>
</head>
<body>

<h1>Realistic ID Card Generator</h1>

<div id="card-container">
  <div id="card-text">
    <div><strong>Name:</strong> <span id="card-name">John Smithon</span></div>
    <div><strong>ID Number:</strong> <span id="card-id">263.7487.1278B</span></div>
    <div><strong>Date of Birth:</strong> <span id="card-dob">10-10-1987</span></div>
    <div><strong>Date Issued:</strong> <span id="card-issued">08-31-2015</span></div>
  </div>

  <img id="photo" src="https://via.placeholder.com/120x160?text=Photo" alt="Photo">
  <img id="small-photo" src="https://via.placeholder.com/60x60?text=Photo" alt="Small Photo">

  <div id="signature">John Smithon</div>
  <div id="expires">EXPIRES: 12-31-2017</div>
</div>

<div id="control-panel">
  <label>Full Name:</label>
  <input type="text" id="input-name" value="John Smithon">

  <label>ID Number:</label>
  <input type="text" id="input-id" value="263.7487.1278B">

  <label>Date of Birth:</label>
  <input type="date" id="input-dob" value="1987-10-10">

  <label>Date Issued:</label>
  <input type="date" id="input-issued" value="2015-08-31">

  <label>Signature:</label>
  <input type="text" id="input-signature" value="John Smithon">

  <label>Expiration Date:</label>
  <input type="date" id="input-expires" value="2017-12-31">

  <label>Upload Photo:</label>
  <input type="file" id="input-photo" accept="image/*">

  <button id="download-btn">Download Card as PNG</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
const cardName = document.getElementById('card-name');
const cardID = document.getElementById('card-id');
const cardDOB = document.getElementById('card-dob');
const cardIssued = document.getElementById('card-issued');
const signature = document.getElementById('signature');
const expires = document.getElementById('expires');
const photo = document.getElementById('photo');
const smallPhoto = document.getElementById('small-photo');

document.getElementById('input-name').addEventListener('input', e => {
  cardName.textContent = e.target.value;
  signature.textContent = e.target.value;
});
document.getElementById('input-id').addEventListener('input', e => cardID.textContent = e.target.value);
document.getElementById('input-dob').addEventListener('input', e => cardDOB.textContent = e.target.value);
document.getElementById('input-issued').addEventListener('input', e => cardIssued.textContent = e.target.value);
document.getElementById('input-signature').addEventListener('input', e => signature.textContent = e.target.value);
document.getElementById('input-expires').addEventListener('input', e => {
  const d = new Date(e.target.value);
  expires.textContent = "EXPIRES: " + (d.getMonth()+1).toString().padStart(2,'0') + '-' + d.getDate().toString().padStart(2,'0') + '-' + d.getFullYear();
});

// Photo upload
document.getElementById('input-photo').addEventListener('change', e => {
  const file = e.target.files[0];
  if(file){
    const url = URL.createObjectURL(file);
    photo.src = url;
    smallPhoto.src = url;
  }
});

// Download card
document.getElementById('download-btn').addEventListener('click', () => {
  html2canvas(document.getElementById('card-container'), {scale:3}).then(canvas => {
    const link = document.createElement('a');
    link.download = 'id_card.png';
    link.href = canvas.toDataURL();
    link.click();
  });
});
</script>

</body>
</html>
